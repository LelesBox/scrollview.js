{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b9d361cf00a3d9df548b","webpack:///./scrollview/index.js","webpack:///./scrollview/inertiaScroll.js","webpack:///./scrollview/matrix.js","webpack:///./scrollview/scrollbar.js"],"names":["ScrollView","container","opt","panel","children","style","overflow","position","createScrollBar","scrollBarH","scrollBarV","containerClientHeight","clientHeight","containerClientWidth","clientWidth","startOffsetX","startOffsetY","autoScroll","panelMatrix","panelWidth","panelHeight","containerWidth","containerHeight","maxScale","transformOrigin","transform","translate","scrollBar","sx","sy","dx","dy","sx2","sy2","pinchLenght","addEventListener","movestart","bind","moving","moveend","isMouseDown","e","preventDefault","move","deltaX","deltaY","type","touch","touch2","touches","clientX","clientY","Math","sqrt","pow","abs","cx","cy","panelPosition","getBoundingClientRect","transformOriginX","left","transformOriginY","top","OriginOffsetX","width","OriginOffsetY","height","setOriginOffset","init","x","y","newPinchLenght","deltaPinch","addScale","translatex","matrix3d","j","translatey","k","minx","MIN_OFFSETX","maxx","MAX_OFFSETX","miny","MIN_OFFSETY","maxy","MAX_OFFSETY","scale","a","setDelta","restTouch","auto","prototype","translateDelta","scroll","h","document","createElement","v","cssText","appendChild","module","exports","InertiaScroll","shape","viewport","realtimePositionFn","limit","offsetX","offsetY","startX","startY","insX","insY","interval","raf","startPoint","clearInterval","track","delta","cb","distance","ms","decay","step","offset","i","self","setInterval","callback","vx","vy","animate","targetX","targetY","timestant","time","Date","now","lx","ly","window","requestAnimationFrame","update","elapsed","exp","animateEnd","Matrix3D","b","c","d","f","g","l","option","originX","originY","originOffsetX","originOffsetY","setBoundary","maxX","maxY","getMatrix3d","n","ScrollBar","opacity","ratioH","ratioV","scrollbarHeight","scrollbarWidth"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;;;AAEA,UAASA,UAAT,CAAqBC,SAArB,EAAgCC,GAAhC,EAAqC;AAAA;;AACnC,QAAKD,SAAL,GAAiBA,SAAjB;AACA,QAAKE,KAAL,GAAaF,UAAUG,QAAV,CAAmB,CAAnB,CAAb;AACA,OAAI,CAAC,KAAKD,KAAV,EAAiB;AACjB,QAAKD,GAAL,GAAWA,OAAO,EAAlB;;AAEAD,aAAUI,KAAV,CAAgBC,QAAhB,GAA2B,QAA3B;AACAL,aAAUI,KAAV,CAAgBE,QAAhB,GAA2B,UAA3B;;AAPmC,0BASFC,gBAAgBP,SAAhB,CATE;AAAA,OAS7BQ,UAT6B,oBAS7BA,UAT6B;AAAA,OASjBC,UATiB,oBASjBA,UATiB;;AAUnC,OAAIC,wBAAwBV,UAAUW,YAAtC;AACA,OAAIC,uBAAuBZ,UAAUa,WAArC;AACA,OAAIC,eAAe,EAAEF,uBAAuB,CAAzB,CAAnB;AACA,OAAIG,eAAe,EAAEL,wBAAwB,CAA1B,CAAnB;AACA,OAAIM,aAAa,4BAAkB,KAAKd,KAAvB,CAAjB;AACA,QAAKe,WAAL,GAAmB,qBAAW;AAC5BC,iBAAY,KAAKhB,KAAL,CAAWW,WADK;AAE5BM,kBAAa,KAAKjB,KAAL,CAAWS,YAFI;AAG5BS,qBAAgBpB,UAAUa,WAHE;AAI5BQ,sBAAiBrB,UAAUW,YAJC;AAK5BW,eAAU,KAAKrB,GAAL,CAASqB,QAAT,IAAqB;AALH,IAAX,CAAnB;AAOA,QAAKpB,KAAL,CAAWE,KAAX,CAAiBmB,eAAjB,GAAmC,eAAnC;;AAEA,QAAKrB,KAAL,CAAWE,KAAX,CAAiBoB,SAAjB,GAA6B,KAAKP,WAAL,CAAiBQ,SAAjB,CAA2BX,YAA3B,EAAyCC,YAAzC,CAA7B;AACA,QAAKW,SAAL,GAAiB,wBAAc1B,SAAd,EAAyB,KAAKE,KAA9B,EAAqCM,UAArC,EAAiDC,UAAjD,CAAjB;;AAEA,OAAIkB,KAAK,CAAT;;AAEA,OAAIC,KAAK,CAAT;;AAEA,OAAIC,KAAK,CAAT;;AAEA,OAAIC,KAAK,CAAT;;AAEA,OAAIC,MAAM,CAAC,CAAX;AACA,OAAIC,MAAM,CAAC,CAAX;;AAEA,OAAIC,cAAc,CAAlB;AACA,QAAK/B,KAAL,CAAWgC,gBAAX,CAA4B,YAA5B,EAA0CC,UAAU,OAAV,EAAmBC,IAAnB,CAAwB,IAAxB,CAA1C;AACA,QAAKlC,KAAL,CAAWgC,gBAAX,CAA4B,WAA5B,EAAyCG,OAAO,OAAP,EAAgBD,IAAhB,CAAqB,IAArB,CAAzC;AACA,QAAKlC,KAAL,CAAWgC,gBAAX,CAA4B,UAA5B,EAAwCI,QAAQ,OAAR,EAAiBF,IAAjB,CAAsB,IAAtB,CAAxC;;AAEA,OAAIG,cAAc,KAAlB;AACA,QAAKrC,KAAL,CAAWgC,gBAAX,CAA4B,WAA5B,EAAyCC,UAAU,OAAV,EAAmBC,IAAnB,CAAwB,IAAxB,CAAzC;AACA,QAAKlC,KAAL,CAAWgC,gBAAX,CAA4B,WAA5B,EAAyCG,OAAO,OAAP,EAAgBD,IAAhB,CAAqB,IAArB,CAAzC;AACA,QAAKlC,KAAL,CAAWgC,gBAAX,CAA4B,SAA5B,EAAuCI,QAAQ,OAAR,EAAiBF,IAAjB,CAAsB,IAAtB,CAAvC;AACA,QAAKlC,KAAL,CAAWgC,gBAAX,CAA4B,YAA5B,EAA0C,UAACM,CAAD,EAAO;AAC/CA,OAAEC,cAAF;AACA,WAAKC,IAAL,CAAU,CAACF,EAAEG,MAAb,EAAqB,CAACH,EAAEI,MAAxB;AACD,IAHD;AAIA,YAAST,SAAT,CAAoBU,IAApB,EAA0B;AACxB,YAAO,UAAUL,CAAV,EAAa;AAElBA,SAAEC,cAAF;AACA,WAAIK,KAAJ,EAAWC,MAAX;AACA,WAAIF,SAAS,OAAb,EAAsB;AACpBC,iBAAQN,EAAEQ,OAAF,CAAU,CAAV,CAAR;AACAD,kBAASP,EAAEQ,OAAF,CAAU,CAAV,CAAT;AACD,QAHD,MAGO,IAAIH,SAAS,OAAb,EAAsB;AAC3BC,iBAAQN,CAAR;AACAD,uBAAc,IAAd;AACD;AACD,WAAIQ,MAAJ,EAAY;AACVhB,eAAMgB,OAAOE,OAAb;AACAjB,eAAMe,OAAOG,OAAb;AACAjB,uBAAckB,KAAKC,IAAL,CAAUD,KAAKE,GAAL,CAASF,KAAKG,GAAL,CAASR,MAAMG,OAAN,GAAgBF,OAAOE,OAAhC,CAAT,EAAmD,CAAnD,IAAwDE,KAAKE,GAAL,CAASF,KAAKG,GAAL,CAASR,MAAMI,OAAN,GAAgBH,OAAOG,OAAhC,CAAT,EAAmD,CAAnD,CAAlE,CAAd;AACA,aAAIK,KAAKJ,KAAKG,GAAL,CAASR,MAAMG,OAAN,GAAgBF,OAAOE,OAAhC,IAA2C,CAApD;AACA,aAAIO,KAAKL,KAAKG,GAAL,CAASR,MAAMI,OAAN,GAAgBH,OAAOG,OAAhC,IAA2C,CAApD;AACA,aAAIO,gBAAgB,KAAKvD,KAAL,CAAWwD,qBAAX,EAApB;AACA,aAAIC,mBAAmBJ,KAAKE,cAAcG,IAA1C;AACA,aAAIC,mBAAmBL,KAAKC,cAAcK,GAA1C;AACA,aAAIC,gBAAiBJ,mBAAmBF,cAAcO,KAAlC,GAA2C,KAAK9D,KAAL,CAAWW,WAA1E;AACA,aAAIoD,gBAAiBJ,mBAAmBJ,cAAcS,MAAlC,GAA4C,KAAKhE,KAAL,CAAWS,YAA3E;AACA,cAAKM,WAAL,CAAiBkD,eAAjB,CAAiCJ,aAAjC,EAAgDE,aAAhD;AACD;AACD,WAAInB,KAAJ,EAAW;AACTnB,cAAKmB,MAAMG,OAAX;AACArB,cAAKkB,MAAMI,OAAX;AACAlC,oBAAWoD,IAAX,CAAgB;AACdC,cAAG1C,EADW;AAEd2C,cAAG1C;AAFW,UAAhB;AAID;AACF,MAhCD;AAiCD;;AAED,YAASS,MAAT,CAAiBQ,IAAjB,EAAuB;AACrB,YAAO,UAAUL,CAAV,EAAa;AAClB,WAAIM,KAAJ,EAAWC,MAAX;AACA,WAAIF,SAAS,OAAb,EAAsB;AACpBC,iBAAQN,EAAEQ,OAAF,CAAU,CAAV,CAAR;AACAD,kBAASP,EAAEQ,OAAF,CAAU,CAAV,CAAT;AACD,QAHD,MAGO,IAAIH,SAAS,OAAb,EAAsB;AAC3BC,iBAAQN,CAAR;AACA,aAAI,CAACD,WAAL,EAAkB;AACnB;AACD,WAAIQ,UAAUhB,OAAO,CAAjB,IAAsBC,OAAO,CAAjC,EAAoC;AAClC,aAAIuC,iBAAiBpB,KAAKC,IAAL,CAAUD,KAAKE,GAAL,CAASF,KAAKG,GAAL,CAASR,MAAMG,OAAN,GAAgBF,OAAOE,OAAhC,CAAT,EAAmD,CAAnD,IAAwDE,KAAKE,GAAL,CAASF,KAAKG,GAAL,CAASR,MAAMI,OAAN,GAAgBH,OAAOG,OAAhC,CAAT,EAAmD,CAAnD,CAAlE,CAArB;AACA,aAAIsB,aAAaD,iBAAiBtC,WAAlC;AACAA,uBAAcsC,cAAd;AACA,cAAKrE,KAAL,CAAWE,KAAX,CAAiBoB,SAAjB,GAA6B,KAAKP,WAAL,CAAiBwD,QAAjB,CAA0BD,aAAa,GAAvC,CAA7B;AACA,cAAK9C,SAAL,CAAe0C,IAAf,CAAoB;AAClBM,uBAAY,CAAC,KAAKzD,WAAL,CAAiB0D,QAAjB,CAA0BC,CADrB;AAElBC,uBAAY,CAAC,KAAK5D,WAAL,CAAiB0D,QAAjB,CAA0BG,CAFrB;AAGlBC,iBAAM,KAAK9D,WAAL,CAAiB+D,WAHL;AAIlBC,iBAAM,KAAKhE,WAAL,CAAiBiE,WAJL;AAKlBC,iBAAM,KAAKlE,WAAL,CAAiBmE,WALL;AAMlBC,iBAAM,KAAKpE,WAAL,CAAiBqE,WANL;AAOlBC,kBAAO,KAAKtE,WAAL,CAAiB0D,QAAjB,CAA0Ba;AAPf,UAApB;AASD,QAdD,MAcO;AACL3D,cAAKiB,MAAMG,OAAN,GAAgBtB,EAArB;AACAG,cAAKgB,MAAMI,OAAN,GAAgBtB,EAArB;AACAD,cAAKmB,MAAMG,OAAX;AACArB,cAAKkB,MAAMI,OAAX;AACAlC,oBAAWyE,QAAX,CAAoB;AAClBpB,cAAGxC,EADe;AAElByC,cAAGxC;AAFe,UAApB;AAIA,cAAKY,IAAL,CAAUb,EAAV,EAAcC,EAAd;AACD;AACF,MAlCD;AAmCD;;AAED,YAASQ,OAAT,CAAkBO,IAAlB,EAAwB;AACtB,YAAO,UAAUL,CAAV,EAAa;AAClB,WAAIK,SAAS,OAAb,EAAsB;AACpB,aAAI6C,YAAYlD,EAAEQ,OAAF,CAAU,CAAV,CAAhB;AACD,QAFD,MAEO,IAAIH,SAAS,OAAb,EAAsB;AAC3BN,uBAAc,KAAd;AACD;AACD,WAAImD,SAAJ,EAAe;AACb3D,eAAMC,MAAM,CAAC,CAAb;AACAL,cAAK+D,UAAUzC,OAAf;AACArB,cAAK8D,UAAUxC,OAAf;AACD,QAJD,MAIO;AACLlC,oBAAW2E,IAAX,CAAgB,KAAKjD,IAAL,CAAUN,IAAV,CAAe,IAAf,CAAhB;AACD;AACF,MAbD;AAcD;AACF;;AAEDrC,YAAW6F,SAAX,CAAqBlD,IAArB,GAA4B,UAAUC,MAAV,EAAkBC,MAAlB,EAA0B;AACpD,QAAK1C,KAAL,CAAWE,KAAX,CAAiBoB,SAAjB,GAA6B,KAAKP,WAAL,CAAiB4E,cAAjB,CAAgClD,MAAhC,EAAwCC,MAAxC,CAA7B;AACA,QAAKlB,SAAL,CAAeoE,MAAf,CAAsB;AACpBpB,iBAAY,CAAC,KAAKzD,WAAL,CAAiB0D,QAAjB,CAA0BC,CADnB;AAEpBC,iBAAY,CAAC,KAAK5D,WAAL,CAAiB0D,QAAjB,CAA0BG,CAFnB;AAGpBC,WAAM,KAAK9D,WAAL,CAAiB+D,WAHH;AAIpBC,WAAM,KAAKhE,WAAL,CAAiBiE,WAJH;AAKpBC,WAAM,KAAKlE,WAAL,CAAiBmE,WALH;AAMpBC,WAAM,KAAKpE,WAAL,CAAiBqE;AANH,IAAtB;AAQD,EAVD;;AAYA,UAAS/E,eAAT,CAA0BP,SAA1B,EAAqC;AACnC,OAAI+F,IAAIC,SAASC,aAAT,CAAuB,KAAvB,CAAR;AACA,OAAIC,IAAIF,SAASC,aAAT,CAAuB,KAAvB,CAAR;AACAF,KAAE3F,KAAF,CAAQ+F,OAAR;AASAD,KAAE9F,KAAF,CAAQ+F,OAAR;AASAnG,aAAUoG,WAAV,CAAsBL,CAAtB;AACA/F,aAAUoG,WAAV,CAAsBF,CAAtB;AACA,UAAO;AACL1F,iBAAYuF,CADP;AAELtF,iBAAYyF;AAFP,IAAP;AAID;AACDG,QAAOC,OAAP,GAAiBvG,UAAjB,C;;;;;;;;ACrLA,UAASwG,aAAT,CAAwBC,KAAxB,EAA+BC,QAA/B,EAAyCC,kBAAzC,EAA6DC,KAA7D,EAAoE;AAClE,QAAKC,OAAL,GAAe,CAAf;AACA,QAAKC,OAAL,GAAe,CAAf;AACA,QAAKC,MAAL,GAAc,CAAd;AACA,QAAKC,MAAL,GAAc,CAAd;AACA,QAAKC,IAAL,GAAY,CAAZ;AACA,QAAKC,IAAL,GAAY,CAAZ;AACA,QAAKC,QAAL,GAAgB,IAAhB;AACA,QAAKC,GAAL,GAAW,IAAX;AACA,QAAKX,KAAL,GAAaA,KAAb;AACA,QAAKC,QAAL,GAAgBA,QAAhB;AACA,QAAKC,kBAAL,GAA0BA,kBAA1B;AACA,QAAKC,KAAL,GAAaA,SAAS,EAAtB;AACD;;AAGDJ,eAAcX,SAAd,CAAwBxB,IAAxB,GAA+B,UAAUgD,UAAV,EAAsB;AAEnD,QAAKD,GAAL,GAAW,IAAX;;AAEAE,iBAAc,KAAKH,QAAnB;AACA,QAAKA,QAAL,GAAgB,IAAhB;AACA,QAAKJ,MAAL,GAAcM,WAAW/C,CAAzB;AACA,QAAK0C,MAAL,GAAcK,WAAW9C,CAAzB;AACA,QAAK0C,IAAL,GAAYI,WAAW/C,CAAvB;AACA,QAAK4C,IAAL,GAAYG,WAAW9C,CAAvB;AACA,QAAKsC,OAAL,GAAe,CAAf;AACA,QAAKC,OAAL,GAAe,CAAf;AACA,QAAKS,KAAL;AACD,EAbD;;AAgBAf,eAAcX,SAAd,CAAwBH,QAAxB,GAAmC,UAAU8B,KAAV,EAAiBC,EAAjB,EAAqB;AAEtD,QAAKZ,OAAL,IAAgBW,MAAMlD,CAAtB;AACA,QAAKwC,OAAL,IAAgBU,MAAMjD,CAAtB;;AAEAkD,SAAMA,GAAG,KAAKZ,OAAR,EAAiB,KAAKC,OAAtB,CAAN;AAED,EAPD;;AAUAN,eAAcX,SAAd,CAAwBD,IAAxB,GAA+B,UAAU6B,EAAV,EAAc;AAE3CH,iBAAc,KAAKH,QAAnB;AACA,OAAIO,WAAW,EAAEpD,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAf;;AAGA,OAAI,KAAKsC,OAAL,KAAiB,CAAjB,IAAsB,KAAKC,OAAL,KAAiB,CAA3C,EAA8C;AAC9CY,YAASpD,CAAT,GAAc,KAAKyC,MAAL,GAAc,KAAKF,OAApB,GAA+B,KAAKI,IAAjD;AACAS,YAASnD,CAAT,GAAc,KAAKyC,MAAL,GAAc,KAAKF,OAApB,GAA+B,KAAKI,IAAjD;AACA,OAAIS,KAAK,GAAT;;AAEA,QAAKC,KAAL,CAAWF,QAAX,EAAqBC,EAArB,EAAyBF,EAAzB;AACD,EAZD;;AAeAjB,eAAcX,SAAd,CAAwB0B,KAAxB,GAAgC,YAAY;AAC1CD,iBAAc,KAAKH,QAAnB;AACA,OAAIU,OAAO,EAAX;AACA,OAAIC,SAAS,CAAb;AACA,OAAIC,IAAI,CAAR;AACA,OAAIC,OAAO,IAAX;AACA,QAAKb,QAAL,GAAgBc,YAAY,YAAY;AACtCF,UAAKF,IAAL;AACA,SAAIE,IAAIF,OAAOC,MAAf,EAAuB;AACvBE,UAAKf,IAAL,GAAYe,KAAKjB,MAAL,GAAciB,KAAKnB,OAA/B;AACAmB,UAAKd,IAAL,GAAYc,KAAKhB,MAAL,GAAcgB,KAAKlB,OAA/B;AACD,IALe,EAKbe,IALa,CAAhB;AAMD,EAZD;;AAcArB,eAAcX,SAAd,CAAwB+B,KAAxB,GAAgC,UAAUF,QAAV,EAAoBC,EAApB,EAAwBO,QAAxB,EAAkC;AAChE,OAAIF,OAAO,IAAX;AACA,OAAIN,SAASpD,CAAT,KAAe,CAAf,IAAoBoD,SAASnD,CAAT,KAAe,CAAvC,EAA0C;AAC1C,OAAI4D,EAAJ;AACA,OAAIC,EAAJ;AACA,OAAIrD,IAAI,CAAR;AACA,OAAI2C,SAASpD,CAAT,KAAe,CAAnB,EAAsB;AACpB6D,UAAK,CAAL;AACAC,UAAKV,SAASnD,CAAT,GAAaoD,EAAlB;AACD,IAHD,MAGO,IAAID,SAASnD,CAAT,KAAe,CAAnB,EAAsB;AAC3B6D,UAAK,CAAL;AACAD,UAAKT,SAASpD,CAAT,GAAaqD,EAAlB;AACD,IAHM,MAGA;AACLQ,UAAKT,SAASpD,CAAT,GAAaqD,EAAlB;AACAS,UAAKV,SAASnD,CAAT,GAAaoD,EAAlB;AACA5C,SAAI2C,SAASnD,CAAT,GAAamD,SAASpD,CAA1B;AACD;AACD+D,WAAQF,EAAR,EAAYC,EAAZ,EAAgBrD,CAAhB;AACA,YAASsD,OAAT,CAAkBF,EAAlB,EAAsBC,EAAtB,EAA0BrD,CAA1B,EAA6B;AAC3B,SAAIT,IAAI,CAAR;AACA,SAAIC,IAAI,CAAR;AACAQ,SAAI,CAAJ;AACA,SAAIuD,UAAU,MAAM,IAAN,GAAaH,EAA3B;AACA,SAAII,UAAU,MAAM,IAAN,GAAaH,EAA3B;;AAEA,SAAII,YAAY,GAAhB;AACA,SAAIC,OAAOC,KAAKC,GAAL,EAAX;AACA,SAAIC,KAAK,CAAT;AACA,SAAIC,KAAK,CAAT;AACAb,UAAKZ,GAAL,GAAW0B,OAAOC,qBAAP,CAA6BC,MAA7B,CAAX;AACA,cAASA,MAAT,GAAmB;AACjB,WAAIC,UAAUP,KAAKC,GAAL,KAAaF,IAA3B;AACAnE,WAAIgE,UAAUA,UAAUlF,KAAK8F,GAAL,CAAS,CAAC,GAAD,GAAOD,OAAP,GAAiBT,SAA1B,CAAxB;AACAjE,WAAIgE,UAAUA,UAAUnF,KAAK8F,GAAL,CAAS,CAAC,GAAD,GAAOD,OAAP,GAAiBT,SAA1B,CAAxB;AACA,WAAI1G,KAAKwC,IAAIsE,EAAb;AACA,WAAI7G,KAAKwC,IAAIsE,EAAb;AACAD,YAAKtE,CAAL;AACAuE,YAAKtE,CAAL;AACA2D,gBAASpG,EAAT,EAAaC,EAAb;AACA,WAAI,CAACqB,KAAKG,GAAL,CAASe,CAAT,IAAc,EAAd,GAAmBlB,KAAKG,GAAL,CAAS+E,OAAT,CAAnB,IAAwClF,KAAKG,GAAL,CAASgB,CAAT,IAAc,EAAd,GAAmBnB,KAAKG,GAAL,CAASgF,OAAT,CAA5D,KAAkFP,KAAKZ,GAA3F,EAAgG;AAC9F0B,gBAAOC,qBAAP,CAA6BC,MAA7B;AACD,QAFD,MAEO;AACLhB,cAAKmB,UAAL,IAAmBnB,KAAKmB,UAAL,EAAnB;AACD;AACF;AACF;AACF,EA9CD;;AAgDA7C,QAAOC,OAAP,GAAiBC,aAAjB,C;;;;;;;;ACzHA,UAAS4C,QAAT,OAA2F;AAAA,OAAtEjI,UAAsE,QAAtEA,UAAsE;AAAA,OAA1DC,WAA0D,QAA1DA,WAA0D;AAAA,OAA7CC,cAA6C,QAA7CA,cAA6C;AAAA,OAA7BC,eAA6B,QAA7BA,eAA6B;AAAA,OAAZC,QAAY,QAAZA,QAAY;;AACzF,QAAKqD,QAAL,GAAgB;AACda,QAAG,CADW,EACR4D,GAAG,CADK,EACFC,GAAG,CADD,EACIC,GAAG,CADP,EACU9G,GAAG,CADb,EACgB+G,GAAG,CADnB,EACsBC,GAAG,CADzB,EAC4BzD,GAAG,CAD/B,EACkC+B,GAAG,CADrC,EACwClD,GAAG,CAD3C,EAC8CE,GAAG,CADjD,EACoD2E,GAAG;AADvD,IAAhB;AAGA,QAAKC,MAAL,GAAc;AACZpI,eAAUA,YAAY;AADV,IAAd;AAGA,QAAKJ,UAAL,GAAkBA,UAAlB;AACA,QAAKC,WAAL,GAAmBA,WAAnB;AACA,QAAKC,cAAL,GAAsBA,cAAtB;AACA,QAAKC,eAAL,GAAuBA,eAAvB;AACA,QAAKsI,OAAL,GAAe,KAAKzI,UAAL,GAAkB,CAAjC;AACA,QAAK0I,OAAL,GAAe,KAAKzI,WAAL,GAAmB,CAAlC;AACA,QAAK0I,aAAL,GAAqB,KAAKF,OAA1B;AACA,QAAKG,aAAL,GAAqB,KAAKF,OAA1B;AACA,QAAKG,WAAL;AACD;AACDZ,UAASvD,SAAT,CAAmBmE,WAAnB,GAAiC,UAAU5I,WAAV,EAAuBD,UAAvB,EAAmC;AAClE,OAAIC,WAAJ,EAAiB;AACf,UAAKA,WAAL,GAAmBA,WAAnB;AACA,UAAKyI,OAAL,GAAe,KAAKzI,WAAL,GAAmB,CAAlC;AACD;AACD,OAAID,UAAJ,EAAgB;AACd,UAAKA,UAAL,GAAkBA,UAAlB;AACA,UAAKyI,OAAL,GAAe,KAAKzI,UAAL,GAAkB,CAAjC;AACD;AACD,OAAI8I,OAAO,KAAK9I,UAAL,GAAkB,KAAKE,cAAlC;AACA,OAAI6I,OAAO,KAAK9I,WAAL,GAAmB,KAAKE,eAAnC;AACA,QAAK6D,WAAL,GAAoB,CAAC,KAAKP,QAAL,CAAca,CAAd,GAAkB,KAAKtE,UAAvB,GAAoC,KAAKA,UAA1C,IAAwD,CAAxD,GAA4D8I,IAAhF;AACA,QAAKhF,WAAL,GAAmB,EAAE,CAAC,KAAKL,QAAL,CAAca,CAAd,GAAkB,KAAKtE,UAAvB,GAAoC,KAAKA,UAA1C,IAAwD,CAA1D,CAAnB;AACA,QAAKoE,WAAL,GAAoB,CAAC,KAAKX,QAAL,CAAcnC,CAAd,GAAkB,KAAKrB,WAAvB,GAAqC,KAAKA,WAA3C,IAA0D,CAA1D,GAA8D8I,IAAlF;AACA,QAAK7E,WAAL,GAAmB,EAAE,CAAC,KAAKT,QAAL,CAAcnC,CAAd,GAAkB,KAAKrB,WAAvB,GAAqC,KAAKA,WAA3C,IAA0D,CAA5D,CAAnB;AACD,EAfD;AAgBAgI,UAASvD,SAAT,CAAmBnE,SAAnB,GAA+B,UAAU4C,CAAV,EAAaC,CAAb,EAAgB;AAC7C,QAAKK,QAAL,CAAcC,CAAd,GAAkBP,CAAlB;AACA,QAAKM,QAAL,CAAcG,CAAd,GAAkBR,CAAlB;AACA,UAAO,KAAK4F,WAAL,EAAP;AACD,EAJD;AAKAf,UAASvD,SAAT,CAAmBC,cAAnB,GAAoC,UAAUxB,CAAV,EAAaC,CAAb,EAAgB;AAClD,QAAKK,QAAL,CAAcC,CAAd,IAAmBP,CAAnB;AACA,QAAKM,QAAL,CAAcG,CAAd,IAAmBR,CAAnB;AACA,OAAI,KAAKK,QAAL,CAAcC,CAAd,IAAmB,CAAC,KAAKM,WAA7B,EAA0C;AACxC,UAAKP,QAAL,CAAcC,CAAd,GAAkB,CAAC,KAAKM,WAAxB;AACD,IAFD,MAEO,IAAI,KAAKP,QAAL,CAAcC,CAAd,IAAmB,CAAC,KAAKI,WAA7B,EAA0C;AAC/C,UAAKL,QAAL,CAAcC,CAAd,GAAkB,CAAC,KAAKI,WAAxB;AACD;AACD,OAAI,KAAKL,QAAL,CAAcG,CAAd,IAAmB,CAAC,KAAKQ,WAA7B,EAA0C;AACxC,UAAKX,QAAL,CAAcG,CAAd,GAAkB,CAAC,KAAKQ,WAAxB;AACD,IAFD,MAEO,IAAI,KAAKX,QAAL,CAAcG,CAAd,IAAmB,CAAC,KAAKM,WAA7B,EAA0C;AAC/C,UAAKT,QAAL,CAAcG,CAAd,GAAkB,CAAC,KAAKM,WAAxB;AACD;AACD,UAAO,KAAK8E,WAAL,EAAP;AACD,EAdD;AAeAf,UAASvD,SAAT,CAAmBL,KAAnB,GAA2B,UAAU4E,CAAV,EAAa;AACtC,QAAKxF,QAAL,CAAca,CAAd,GAAkB2E,CAAlB;AACA,QAAKxF,QAAL,CAAcnC,CAAd,GAAkB2H,CAAlB;AACA,UAAO,KAAKD,WAAL,EAAP;AACD,EAJD;AAKAf,UAASvD,SAAT,CAAmBnB,QAAnB,GAA8B,UAAU0F,CAAV,EAAa;AACzC,QAAKxF,QAAL,CAAca,CAAd,IAAmB2E,CAAnB;AACA,QAAKxF,QAAL,CAAcnC,CAAd,IAAmB2H,CAAnB;AACA,OAAI,KAAKxF,QAAL,CAAca,CAAd,IAAmB,CAAvB,EAA0B;AACxB,UAAKb,QAAL,CAAca,CAAd,GAAkB,CAAlB;AACA,UAAKb,QAAL,CAAcnC,CAAd,GAAkB,CAAlB;AACA2H,SAAI,CAAJ;AACD,IAJD,MAIO,IAAI,KAAKT,MAAL,CAAYpI,QAAZ,IAAwB,KAAKqD,QAAL,CAAca,CAAd,IAAmB,KAAKkE,MAAL,CAAYpI,QAA3D,EAAqE;AAC1E,UAAKqD,QAAL,CAAca,CAAd,GAAkB,KAAKkE,MAAL,CAAYpI,QAA9B;AACA,UAAKqD,QAAL,CAAcnC,CAAd,GAAkB,KAAKkH,MAAL,CAAYpI,QAA9B;AACA6I,SAAI,CAAJ;AACD;AACD,QAAKJ,WAAL;AACA,QAAKlE,cAAL,CAAqB,CAACsE,CAAD,IAAM,KAAKN,aAAL,GAAqB,KAAKF,OAAhC,CAArB,EAAiE,CAACQ,CAAD,IAAM,KAAKL,aAAL,GAAqB,KAAKF,OAAhC,CAAjE;AACA,UAAO,KAAKM,WAAL,EAAP;AACD,EAfD;AAgBAf,UAASvD,SAAT,CAAmBzB,eAAnB,GAAqC,UAAUE,CAAV,EAAaC,CAAb,EAAgB;AACnD,QAAKuF,aAAL,GAAqBxF,CAArB;AACA,QAAKyF,aAAL,GAAqBxF,CAArB;AACD,EAHD;AAIA6E,UAASvD,SAAT,CAAmBsE,WAAnB,GAAiC,YAAY;AAC3C,wBAAmB,KAAKvF,QAAL,CAAca,CAAjC,UAAuC,KAAKb,QAAL,CAAcyE,CAArD,UAA2D,KAAKzE,QAAL,CAAc0E,CAAzE,iCACmB,KAAK1E,QAAL,CAAc2E,CADjC,UACuC,KAAK3E,QAAL,CAAcnC,CADrD,UAC2D,KAAKmC,QAAL,CAAc4E,CADzE,iCAEmB,KAAK5E,QAAL,CAAc6E,CAFjC,UAEuC,KAAK7E,QAAL,CAAcoB,CAFrD,UAE2D,KAAKpB,QAAL,CAAcmD,CAFzE,iCAGmB,KAAKnD,QAAL,CAAcC,CAHjC,UAGuC,KAAKD,QAAL,CAAcG,CAHrD,UAG2D,KAAKH,QAAL,CAAc8E,CAHzE;AAID,EALD;AAMApD,QAAOC,OAAP,GAAiB6C,QAAjB,C;;;;;;;;ACxFA,UAASiB,SAAT,CAAoBpK,SAApB,EAA+BE,KAA/B,EAAsC6F,CAAtC,EAAyCG,CAAzC,EAA4C;AAC1C,QAAKH,CAAL,GAASA,CAAT;AACA,QAAKG,CAAL,GAASA,CAAT;AACA,QAAK/E,WAAL,GAAmBjB,MAAMS,YAAzB;AACA,QAAKO,UAAL,GAAkBhB,MAAMW,WAAxB;AACA,QAAKQ,eAAL,GAAuBrB,UAAUW,YAAjC;AACA,QAAKS,cAAL,GAAsBpB,UAAUa,WAAhC;AACA,QAAKuD,IAAL,CAAU;AACRM,iBAAY,CAAC,KAAKxD,UAAL,GAAkB,KAAKE,cAAxB,IAA0C,CAD9C;AAERyD,iBAAY,CAAC,KAAK1D,WAAL,GAAmB,KAAKE,eAAzB,IAA4C,CAFhD;AAGR0D,WAAM,CAHE;AAIRE,WAAM,KAAK/D,UAAL,GAAkB,KAAKE,cAJrB;AAKR+D,WAAM,CALE;AAMRE,WAAM,KAAKlE,WAAL,GAAmB,KAAKE,eANtB;AAORkE,YAAO;AAPC,IAAV;AASA,QAAKQ,CAAL,CAAO3F,KAAP,CAAaiK,OAAb,GAAuB,CAAvB;AACA,QAAKnE,CAAL,CAAO9F,KAAP,CAAaiK,OAAb,GAAuB,CAAvB;AACD;AACDD,WAAUxE,SAAV,CAAoBxB,IAApB,GAA2B,gBAAqE;AAAA,OAAzDM,UAAyD,QAAzDA,UAAyD;AAAA,OAA7CG,UAA6C,QAA7CA,UAA6C;AAAA,OAAjCE,IAAiC,QAAjCA,IAAiC;AAAA,OAA3BE,IAA2B,QAA3BA,IAA2B;AAAA,OAArBE,IAAqB,QAArBA,IAAqB;AAAA,OAAfE,IAAe,QAAfA,IAAe;AAAA,OAATE,KAAS,QAATA,KAAS;;AAC9F,QAAK+E,MAAL,GAAc,KAAKjJ,eAAL,IAAwB,KAAKF,WAAL,GAAmBoE,KAA3C,CAAd;AACA,QAAKgF,MAAL,GAAc,KAAKnJ,cAAL,IAAuB,KAAKF,UAAL,GAAkBqE,KAAzC,CAAd;AACA,QAAKiF,eAAL,GAAuB,KAAKF,MAAL,GAAc,KAAKjJ,eAA1C;AACA,QAAKoJ,cAAL,GAAsB,KAAKF,MAAL,GAAc,KAAKnJ,cAAzC;AACA,QAAK2E,CAAL,CAAO3F,KAAP,CAAa8D,MAAb,GAAsB,KAAKsG,eAAL,GAAuB,IAA7C;AACA,QAAKtE,CAAL,CAAO9F,KAAP,CAAa4D,KAAb,GAAqB,KAAKyG,cAAL,GAAsB,IAA3C;AACA,QAAK3E,MAAL,CAAY,EAAEpB,sBAAF,EAAcG,sBAAd,EAA0BE,UAA1B,EAAgCE,UAAhC,EAAsCE,UAAtC,EAA4CE,UAA5C,EAAZ;AACD,EARD;AASA+E,WAAUxE,SAAV,CAAoBE,MAApB,GAA6B,iBAA8D;AAAA,OAAlDpB,UAAkD,SAAlDA,UAAkD;AAAA,OAAtCG,UAAsC,SAAtCA,UAAsC;AAAA,OAA1BE,IAA0B,SAA1BA,IAA0B;AAAA,OAApBE,IAAoB,SAApBA,IAAoB;AAAA,OAAdE,IAAc,SAAdA,IAAc;AAAA,OAARE,IAAQ,SAARA,IAAQ;;AACzF,OAAIzB,OAAO,CAACc,aAAaK,IAAd,KAAuBE,OAAOF,IAA9B,CAAX;AACA,OAAIjB,MAAM,CAACe,aAAaM,IAAd,KAAuBE,OAAOF,IAA9B,CAAV;AACA,QAAKvB,IAAL,GAAY,CAAC,KAAKxC,cAAL,GAAsB,KAAKqJ,cAA5B,IAA8C7G,IAA1D;AACA,QAAKE,GAAL,GAAW,CAAC,KAAKzC,eAAL,GAAuB,KAAKmJ,eAA7B,IAAgD1G,GAA3D;AACA,QAAKiC,CAAL,CAAO3F,KAAP,CAAaoB,SAAb,uBAA2C,KAAKsC,GAAhD;AACA,QAAKoC,CAAL,CAAO9F,KAAP,CAAaoB,SAAb,oBAAwC,KAAKoC,IAA7C;AACD,EAPD;;AASAyC,QAAOC,OAAP,GAAiB8D,SAAjB,C","file":"scrollview.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ScrollView\"] = factory();\n\telse\n\t\troot[\"ScrollView\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b9d361cf00a3d9df548b","import InertiaScroll from './inertiaScroll'\nimport Matrix from './matrix'\nimport ScrollBar from './scrollbar'\n\nfunction ScrollView (container, opt) {\n  this.container = container\n  this.panel = container.children[0]\n  if (!this.panel) return\n  this.opt = opt || {}\n  // 修复容器属性\n  container.style.overflow = 'hidden'\n  container.style.position = 'relative'\n  // 获取属性配置\n  let { scrollBarH, scrollBarV } = createScrollBar(container)\n  var containerClientHeight = container.clientHeight\n  var containerClientWidth = container.clientWidth\n  var startOffsetX = -(containerClientWidth / 2)\n  var startOffsetY = -(containerClientHeight / 2)\n  var autoScroll = new InertiaScroll(this.panel)\n  this.panelMatrix = new Matrix({\n    panelWidth: this.panel.clientWidth,\n    panelHeight: this.panel.clientHeight,\n    containerWidth: container.clientWidth,\n    containerHeight: container.clientHeight,\n    maxScale: this.opt.maxScale || 4\n  })\n  this.panel.style.transformOrigin = 'center center'\n  // 把面板中心放到容器中间\n  this.panel.style.transform = this.panelMatrix.translate(startOffsetX, startOffsetY)\n  this.scrollBar = new ScrollBar(container, this.panel, scrollBarH, scrollBarV)\n  // 单指当前点击位置x\n  var sx = 0\n// 单指当前点击位置y\n  var sy = 0\n// 单指x轴偏移量\n  var dx = 0\n// 单指y轴偏移量\n  var dy = 0\n// 第二个手指的数据,当数值小于0时没有意义\n  var sx2 = -1\n  var sy2 = -1\n// 双指初始长度\n  var pinchLenght = 0\n  this.panel.addEventListener('touchstart', movestart('touch').bind(this))\n  this.panel.addEventListener('touchmove', moving('touch').bind(this))\n  this.panel.addEventListener('touchend', moveend('touch').bind(this))\n  // 支持鼠标拖动\n  var isMouseDown = false\n  this.panel.addEventListener('mousedown', movestart('mouse').bind(this))\n  this.panel.addEventListener('mousemove', moving('mouse').bind(this))\n  this.panel.addEventListener('mouseup', moveend('mouse').bind(this))\n  this.panel.addEventListener('mousewheel', (e) => {\n    e.preventDefault()\n    this.move(-e.deltaX, -e.deltaY)\n  })\n  function movestart (type) {\n    return function (e) {\n    // 阻止默认滑动事件\n      e.preventDefault()\n      var touch, touch2\n      if (type === 'touch') {\n        touch = e.touches[0]\n        touch2 = e.touches[1]\n      } else if (type === 'mouse') {\n        touch = e\n        isMouseDown = true\n      }\n      if (touch2) {\n        sx2 = touch2.clientX\n        sy2 = touch2.clientY\n        pinchLenght = Math.sqrt(Math.pow(Math.abs(touch.clientX - touch2.clientX), 2) + Math.pow(Math.abs(touch.clientY - touch2.clientY), 2))\n        var cx = Math.abs(touch.clientX + touch2.clientX) / 2\n        var cy = Math.abs(touch.clientY + touch2.clientY) / 2\n        var panelPosition = this.panel.getBoundingClientRect()\n        var transformOriginX = cx - panelPosition.left\n        var transformOriginY = cy - panelPosition.top\n        var OriginOffsetX = (transformOriginX / panelPosition.width) * this.panel.clientWidth\n        var OriginOffsetY = (transformOriginY / panelPosition.height) * this.panel.clientHeight\n        this.panelMatrix.setOriginOffset(OriginOffsetX, OriginOffsetY)\n      }\n      if (touch) {\n        sx = touch.clientX\n        sy = touch.clientY\n        autoScroll.init({\n          x: sx,\n          y: sy\n        })\n      }\n    }\n  }\n\n  function moving (type) {\n    return function (e) {\n      var touch, touch2\n      if (type === 'touch') {\n        touch = e.touches[0]\n        touch2 = e.touches[1]\n      } else if (type === 'mouse') {\n        touch = e\n        if (!isMouseDown) return\n      }\n      if (touch2 && sx2 >= 0 && sy2 >= 0) {\n        var newPinchLenght = Math.sqrt(Math.pow(Math.abs(touch.clientX - touch2.clientX), 2) + Math.pow(Math.abs(touch.clientY - touch2.clientY), 2))\n        var deltaPinch = newPinchLenght - pinchLenght\n        pinchLenght = newPinchLenght\n        this.panel.style.transform = this.panelMatrix.addScale(deltaPinch / 100)\n        this.scrollBar.init({\n          translatex: -this.panelMatrix.matrix3d.j,\n          translatey: -this.panelMatrix.matrix3d.k,\n          minx: this.panelMatrix.MIN_OFFSETX,\n          maxx: this.panelMatrix.MAX_OFFSETX,\n          miny: this.panelMatrix.MIN_OFFSETY,\n          maxy: this.panelMatrix.MAX_OFFSETY,\n          scale: this.panelMatrix.matrix3d.a\n        })\n      } else {\n        dx = touch.clientX - sx\n        dy = touch.clientY - sy\n        sx = touch.clientX\n        sy = touch.clientY\n        autoScroll.setDelta({\n          x: dx,\n          y: dy\n        })\n        this.move(dx, dy)\n      }\n    }\n  }\n\n  function moveend (type) {\n    return function (e) {\n      if (type === 'touch') {\n        var restTouch = e.touches[0]\n      } else if (type === 'mouse') {\n        isMouseDown = false\n      }\n      if (restTouch) {\n        sx2 = sy2 = -1\n        sx = restTouch.clientX\n        sy = restTouch.clientY\n      } else {\n        autoScroll.auto(this.move.bind(this))\n      }\n    }\n  }\n}\n\nScrollView.prototype.move = function (deltaX, deltaY) {\n  this.panel.style.transform = this.panelMatrix.translateDelta(deltaX, deltaY)\n  this.scrollBar.scroll({\n    translatex: -this.panelMatrix.matrix3d.j,\n    translatey: -this.panelMatrix.matrix3d.k,\n    minx: this.panelMatrix.MIN_OFFSETX,\n    maxx: this.panelMatrix.MAX_OFFSETX,\n    miny: this.panelMatrix.MIN_OFFSETY,\n    maxy: this.panelMatrix.MAX_OFFSETY\n  })\n}\n\nfunction createScrollBar (container) {\n  var h = document.createElement('div')\n  var v = document.createElement('div')\n  h.style.cssText = `\n            position: absolute;\n            top:0px;\n            right: 1px;\n            width: 3px;\n            background: rgba(0, 0, 0, .4);\n            border-radius: 3px;\n            transition: opacity .2s ease;\n  `\n  v.style.cssText = `\n            position: absolute;\n            bottom:1px;\n            left: 0px;\n            background: rgba(0, 0, 0, .4);\n            height: 3px;\n            border-radius: 3px;\n            transition: opacity .2s ease;\n  `\n  container.appendChild(h)\n  container.appendChild(v)\n  return {\n    scrollBarH: h,\n    scrollBarV: v\n  }\n}\nmodule.exports = ScrollView\n\n\n\n// WEBPACK FOOTER //\n// ./scrollview/index.js","/** 惯性滚动函数\n * @param {any} shape 滚动的元素\n * @param {any} viewport 滚动元素所在的视口，包含 maxX,maxY,minX, minY\n * @param {any} realtimePositionFn 实时获取元素位置的函数，返回 {x, y, width, height}\n * @param {any} limit 与边界的保留像素\n */\nfunction InertiaScroll (shape, viewport, realtimePositionFn, limit) {\n  this.offsetX = 0\n  this.offsetY = 0\n  this.startX = 0\n  this.startY = 0\n  this.insX = 0\n  this.insY = 0\n  this.interval = null\n  this.raf = null\n  this.shape = shape\n  this.viewport = viewport\n  this.realtimePositionFn = realtimePositionFn\n  this.limit = limit || 50\n}\n\n// 手指刚触碰的时候触发\nInertiaScroll.prototype.init = function (startPoint) {\n  // 初始化 raf\n  this.raf = null\n  // 初始化 interval\n  clearInterval(this.interval)\n  this.interval = null\n  this.startX = startPoint.x\n  this.startY = startPoint.y\n  this.insX = startPoint.x\n  this.insY = startPoint.y\n  this.offsetX = 0\n  this.offsetY = 0\n  this.track()\n}\n\n// 手移动的时候触发\nInertiaScroll.prototype.setDelta = function (delta, cb) {\n  // if (!this.interval) this.track()\n  this.offsetX += delta.x\n  this.offsetY += delta.y\n  //   this.boundary && this.boundary()\n  cb && cb(this.offsetX, this.offsetY)\n  // console.log(delta)\n}\n\n// 抬手的时候触发\nInertiaScroll.prototype.auto = function (cb) {\n  // 停止track\n  clearInterval(this.interval)\n  var distance = { x: 0, y: 0 }\n  // 最后移动的点startX + offsetX 和 上一间隔移动到的点 insX的距离，除以 预定时间\n  // 这里取100ms 得到脱手时的速度，这个速度是有方向的\n  if (this.offsetX === 0 && this.offsetY === 0) return\n  distance.x = (this.startX + this.offsetX) - this.insX\n  distance.y = (this.startY + this.offsetY) - this.insY\n  var ms = 100\n  // move(distance.x, distance.y, shape)\n  this.decay(distance, ms, cb)\n}\n\n// 定时获取路径移动轨迹和速度\nInertiaScroll.prototype.track = function () {\n  clearInterval(this.interval)\n  var step = 50\n  var offset = 3\n  var i = 0\n  var self = this\n  this.interval = setInterval(function () {\n    i += step\n    if (i < step * offset) return\n    self.insX = self.startX + self.offsetX\n    self.insY = self.startY + self.offsetY\n  }, step)\n}\n\nInertiaScroll.prototype.decay = function (distance, ms, callback) {\n  var self = this\n  if (distance.x === 0 && distance.y === 0) return\n  var vx\n  var vy\n  var k = 0\n  if (distance.x === 0) {\n    vx = 0\n    vy = distance.y / ms\n  } else if (distance.y === 0) {\n    vy = 0\n    vx = distance.x / ms\n  } else {\n    vx = distance.x / ms\n    vy = distance.y / ms\n    k = distance.y / distance.x\n  }\n  animate(vx, vy, k)\n  function animate (vx, vy, k) {\n    var x = 0\n    var y = 0\n    k = 1\n    var targetX = 0.4 * 1000 * vx\n    var targetY = 0.4 * 1000 * vy\n    // 边界检查\n    var timestant = 325\n    var time = Date.now()\n    var lx = 0\n    var ly = 0\n    self.raf = window.requestAnimationFrame(update)\n    function update () {\n      var elapsed = Date.now() - time\n      x = targetX - targetX * Math.exp(-0.8 * elapsed / timestant)\n      y = targetY - targetY * Math.exp(-0.8 * elapsed / timestant)\n      var dx = x - lx\n      var dy = y - ly\n      lx = x\n      ly = y\n      callback(dx, dy)\n      if ((Math.abs(x) + 10 < Math.abs(targetX) || Math.abs(y) + 10 < Math.abs(targetY)) && self.raf) {\n        window.requestAnimationFrame(update)\n      } else {\n        self.animateEnd && self.animateEnd()\n      }\n    }\n  }\n}\n\nmodule.exports = InertiaScroll\n\n\n\n// WEBPACK FOOTER //\n// ./scrollview/inertiaScroll.js","/**\n * 面板矩阵变换管理\n * @param {any} { maxX, maxY }\n */\nfunction Matrix3D ({ panelWidth, panelHeight, containerWidth, containerHeight, maxScale }) {\n  this.matrix3d = {\n    a: 1, b: 0, c: 0, d: 0, e: 1, f: 0, g: 0, h: 0, i: 1, j: 0, k: 0, l: 0\n  }\n  this.option = {\n    maxScale: maxScale || 1\n  }\n  this.panelWidth = panelWidth\n  this.panelHeight = panelHeight\n  this.containerWidth = containerWidth\n  this.containerHeight = containerHeight\n  this.originX = this.panelWidth / 2\n  this.originY = this.panelHeight / 2\n  this.originOffsetX = this.originX\n  this.originOffsetY = this.originY\n  this.setBoundary()\n}\nMatrix3D.prototype.setBoundary = function (panelHeight, panelWidth) {\n  if (panelHeight) {\n    this.panelHeight = panelHeight\n    this.originY = this.panelHeight / 2\n  }\n  if (panelWidth) {\n    this.panelWidth = panelWidth\n    this.originX = this.panelWidth / 2\n  }\n  var maxX = this.panelWidth - this.containerWidth\n  var maxY = this.panelHeight - this.containerHeight\n  this.MAX_OFFSETX = ((this.matrix3d.a * this.panelWidth - this.panelWidth) / 2 + maxX)\n  this.MIN_OFFSETX = -((this.matrix3d.a * this.panelWidth - this.panelWidth) / 2)\n  this.MAX_OFFSETY = ((this.matrix3d.e * this.panelHeight - this.panelHeight) / 2 + maxY)\n  this.MIN_OFFSETY = -((this.matrix3d.e * this.panelHeight - this.panelHeight) / 2)\n}\nMatrix3D.prototype.translate = function (x, y) {\n  this.matrix3d.j = x\n  this.matrix3d.k = y\n  return this.getMatrix3d()\n}\nMatrix3D.prototype.translateDelta = function (x, y) {\n  this.matrix3d.j += x\n  this.matrix3d.k += y\n  if (this.matrix3d.j <= -this.MAX_OFFSETX) {\n    this.matrix3d.j = -this.MAX_OFFSETX\n  } else if (this.matrix3d.j >= -this.MIN_OFFSETX) {\n    this.matrix3d.j = -this.MIN_OFFSETX\n  }\n  if (this.matrix3d.k <= -this.MAX_OFFSETY) {\n    this.matrix3d.k = -this.MAX_OFFSETY\n  } else if (this.matrix3d.k >= -this.MIN_OFFSETY) {\n    this.matrix3d.k = -this.MIN_OFFSETY\n  }\n  return this.getMatrix3d()\n}\nMatrix3D.prototype.scale = function (n) {\n  this.matrix3d.a = n\n  this.matrix3d.e = n\n  return this.getMatrix3d()\n}\nMatrix3D.prototype.addScale = function (n) {\n  this.matrix3d.a += n\n  this.matrix3d.e += n\n  if (this.matrix3d.a <= 1) {\n    this.matrix3d.a = 1\n    this.matrix3d.e = 1\n    n = 0\n  } else if (this.option.maxScale && this.matrix3d.a >= this.option.maxScale) {\n    this.matrix3d.a = this.option.maxScale\n    this.matrix3d.e = this.option.maxScale\n    n = 0\n  }\n  this.setBoundary()\n  this.translateDelta((-n * (this.originOffsetX - this.originX)), (-n * (this.originOffsetY - this.originY)))\n  return this.getMatrix3d()\n}\nMatrix3D.prototype.setOriginOffset = function (x, y) {\n  this.originOffsetX = x\n  this.originOffsetY = y\n}\nMatrix3D.prototype.getMatrix3d = function () {\n  return `matrix3d(${this.matrix3d.a}, ${this.matrix3d.b}, ${this.matrix3d.c}, 0,\n                   ${this.matrix3d.d}, ${this.matrix3d.e}, ${this.matrix3d.f}, 0,\n                   ${this.matrix3d.g}, ${this.matrix3d.h}, ${this.matrix3d.i}, 0,\n                   ${this.matrix3d.j}, ${this.matrix3d.k}, ${this.matrix3d.l}, 1)`\n}\nmodule.exports = Matrix3D\n\n\n\n// WEBPACK FOOTER //\n// ./scrollview/matrix.js","function ScrollBar (container, panel, h, v) {\n  this.h = h\n  this.v = v\n  this.panelHeight = panel.clientHeight\n  this.panelWidth = panel.clientWidth\n  this.containerHeight = container.clientHeight\n  this.containerWidth = container.clientWidth\n  this.init({\n    translatex: (this.panelWidth - this.containerWidth) / 2,\n    translatey: (this.panelHeight - this.containerHeight) / 2,\n    minx: 0,\n    maxx: this.panelWidth - this.containerWidth,\n    miny: 0,\n    maxy: this.panelHeight - this.containerHeight,\n    scale: 1\n  })\n  this.h.style.opacity = 1\n  this.v.style.opacity = 1\n}\nScrollBar.prototype.init = function ({ translatex, translatey, minx, maxx, miny, maxy, scale }) {\n  this.ratioH = this.containerHeight / (this.panelHeight * scale)\n  this.ratioV = this.containerWidth / (this.panelWidth * scale)\n  this.scrollbarHeight = this.ratioH * this.containerHeight\n  this.scrollbarWidth = this.ratioV * this.containerWidth\n  this.h.style.height = this.scrollbarHeight + 'px'\n  this.v.style.width = this.scrollbarWidth + 'px'\n  this.scroll({ translatex, translatey, minx, maxx, miny, maxy })\n}\nScrollBar.prototype.scroll = function ({ translatex, translatey, minx, maxx, miny, maxy }) {\n  var left = (translatex - minx) / (maxx - minx)\n  var top = (translatey - miny) / (maxy - miny)\n  this.left = (this.containerWidth - this.scrollbarWidth) * left\n  this.top = (this.containerHeight - this.scrollbarHeight) * top\n  this.h.style.transform = `translate3d(0, ${this.top}px, 0)`\n  this.v.style.transform = `translate3d(${this.left}px, 0, 0)`\n}\n\nmodule.exports = ScrollBar\n\n\n\n// WEBPACK FOOTER //\n// ./scrollview/scrollbar.js"],"sourceRoot":""}